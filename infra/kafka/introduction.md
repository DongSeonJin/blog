# Introduction

아파치 카프카는 '분산 커밋 로그' 혹은 '분산 스트리밍 플랫폼' 이라고 불리기도 한다.&#x20;



* 카프카는 메시지를 배치(batch) 단위로 저장한다.

메시지를 쓸 때마다 네트워크 신호가 오간다면 막대한 오버헤드가 발생하는데, 메시지를 배치 단위로 모아서 쓰면 이것을 줄일 수 있다. 예를들어, 메시지 100개는 네트워크 요청이 100번 이루어지지만 배치 전송은 1번의 요청으로 처리된다.

&#x20;하지만, 배치 크기가 커질 수록 시간당 처리량은 늘어나지만, 지연시간은 늘어나는 트레이드오프를 발생시킨다.



### 카프카의 프로듀서와 컨슈머는 데이터를 생산하고 소비하는 핵심 주체이다.

![](../../.gitbook/assets/Gemini_Generated_Image_vixgp2vixgp2vixg.jpg).



* 프로듀서 (Producer) 🧑‍💻➡️: 메시지(데이터)를 생성하여 카프카의 특정 주제(Topic)로 보내는 역할을 한다. 데이터를 만드는 생산자이다.
* 컨슈머 (Consumer) ⬅️🧑‍🔧: 토픽을 구독(subscribe)하고, 저장된 메시지를 가져와서 원하는 작업을 처리한다. 데이터를 사용하는 소비자이다.

이 구조 덕분에 프로듀서와 컨슈머는 서로를 직접 알 필요 없이, 카프카를 통해 데이터를 안정적으로 주고받을 수 있다.



### 브로커와 클러스터

하나의 카프카 서버를 브로커라고 부른다. 이는 메시지를 수신하여 디스크에 안전하게 저장하는 핵심적인 역할을 담당한다. 프로듀서가 전송한 데이터를 토픽 단위로 관리하며, 컨슈머의 요청이 있을 때 해당 데이터를 전달하는 책임을 진다.

* 클러스터

클러스터는 여러 대의 브로커를 하나로 묶어 구성한 단일 시스템을 말한다. 이중 하나의 브로커가 컨트롤러의 역할을 하게 된다. (작동중인 브로커 중 하나가 자동으로 선정된다)&#x20;

&#x20;

결론적으로, 개별 서버인 브로커가 모여 하나의 분산 시스템인 클러스터를 구성한다.

